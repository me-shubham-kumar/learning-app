<div class="container">
    <form #form = "ngForm" (ngSubmit)="submit(form)">
        <div ngModelGroup="Details" #details="ngModelGroup">
            <!-- <div *ngIf="!details.valid">...</div> -->
                <div class="form-group">
                        <label for="firstName">First Name</label>
                        <input 
                            ngModel 
                            #firstName="ngModel" 
                            name="firstName" 
                            id="firstName"  
                            (change)="log(firstName)" 
                            type="text" 
                            required 
                            minlength="3" 
                            maxlength="10" 
                            pattern="banana" 
                            class="form-control">
            
                        <div class="alert alert-danger" *ngIf="firstName.touched && !firstName.valid">
                            <div *ngIf="firstName.errors?.required">
                                First name is required
                            </div>
                            <div *ngIf="firstName.errors?.minlength">
                                First name must content {{firstName.errors?.minlength.requiredLength}} characters
                            </div>
                            <div *ngIf="firstName.errors?.pattern">
                                First name pattern doesn't matched
                            </div>
                        </div>
                    </div>
        </div>
        <div *ngFor="let gender of genders"class="radio">
            <label>
                <input ngModel type="radio" name="gender" [value]="gender.id">{{gender.value}}
            </label></div>
        <div class="form-group">
            <label for="comment">Comment</label>
            <textarea 
                ngModel
                name="comment"
                id="comment"  
                name="comment" 
                cols="30" 
                rows="10" 
                class="form-control"
                >
            </textarea>
        </div>
        <div class="checkbox">
            <label>
                <input type="checkbox" ngModel name="isSubscribe">Subscribe for New Letter
            </label>
        </div>
        <div class="form-group">
            <label for="contactMethod">Contact Method</label>
            <select ngModel name="contactMethod" id="contactMethod" class="form-control">
                <option *ngFor="let method of contactMethods" [value]="method.id">{{method.name}}</option>
            </select>
        </div>
        <div class="form-group">
                <label for="whom">Whom to Send</label>
                <select multiple ngModel name="whom" id="whom" class="form-control">
                    <option *ngFor="let whom of whomToSend" [ngValue]="whom">{{whom.name}}</option>
                </select>
        </div>
        <p>{{form.value | json}}</p>
        <button type="Submit" class="btn btn-primary" [disabled]="!form.valid">Submit</button>
    </form>
</div>
